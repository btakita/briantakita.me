---
import { Button_theme_toggle, Header, LinkButton } from '@btakita/ui--server--blog'
import type { Ctx } from '@ctx-core/object'
import { SITE } from '../config'
export interface Props {
	ctx:Ctx
	active?:'posts'|'tags'|'about'|'search'
}
const { active, ctx } = Astro.props
---

<Header ctx={ctx}>
	<li>
		<a href="/posts" class={active === 'posts' ? 'active' : ''}>
			Posts
		</a>
	</li>
	<li>
		<a href="/tags" class={active === 'tags' ? 'active' : ''}>
			Tags
		</a>
	</li>
	<li>
		<a href="/about" class={active === 'about' ? 'active' : ''}>
			About
		</a>
	</li>
	<li>
		<LinkButton
			href="/search"
			class={`focus-outline p-3 sm:p-1 ${
				active === 'search' ? 'active' : ''
			} flex`}
			aria-label="search"
			title="Search"
		>
			<svg
				xmlns="http://www.w3.org/2000/svg"
				class="scale-125 sm:scale-100"
			>
				<path
					d="M19.023 16.977a35.13 35.13 0 0 1-1.367-1.384c-.372-.378-.596-.653-.596-.653l-2.8-1.337A6.962 6.962 0 0 0 16 9c0-3.859-3.14-7-7-7S2 5.141 2 9s3.14 7 7 7c1.763 0 3.37-.66 4.603-1.739l1.337 2.8s.275.224.653.596c.387.363.896.854 1.384 1.367l1.358 1.392.604.646 2.121-2.121-.646-.604c-.379-.372-.885-.866-1.391-1.36zM9 14c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5z"
				></path>
			</svg>
		</LinkButton>
	</li>
	<li>
		{
			SITE.light_and_dark_mode &&
			<Button_theme_toggle/>
		}
	</li>
</Header>

<script>
	import { Button_theme_toggle__onbind } from '@btakita/domain--all--blog'
	import { dom__onbind__register } from '@ctx-core/dom'
	import { browser__ctx__ensure } from '../lib'
	const ctx = browser__ctx__ensure()
	dom__onbind__register(ctx, Button_theme_toggle__onbind)
</script>